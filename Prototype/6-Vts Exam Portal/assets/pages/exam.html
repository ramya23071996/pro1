<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>MCQ Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/exam.css">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <div class="logo">
        <img src="../images/vts.jpg" alt="VTS Logo">
        <h2>VTS Exam<br>Portal</h2>
      </div>
      <nav>
        <ul>
          <li class="active"><span><img src="/assets/images/Overview.png"></span> Overview</li>
          <li><img style="background-color: white;" src="/assets/images/Design.png"><a
              style="text-decoration: none;color: white;" href="/assets/pages/designing.html">Designing</a></li>
          <li><span style="background-color: white;"><img src="/assets/images/development.jpg"></span><a
              style="text-decoration: none;color: white;" href="/assets/pages/development.html">Development</a></li>
          <li><span style="background-color: white;"><img src="/assets/images/Exam.png"></span><a
              style="text-decoration: none;color: white;" href="/assets/pages/upload.html">Exam</a></li>
          <li><span style="background-color: white;"><img src="/assets/images/result.png"></span> <a
              style="text-decoration: none;color: white;" href="/assets/pages/results.html">Result</a> </li>
        </ul>
      </nav>
    </aside>
    <div class="form">
      <h2>Figma Technical Questions</h2>

      <form id="quizForm">
        <div id="questionsContainer"></div>
        <div class="pagination-buttons">
          <button type="button" id="prevBtn">Previous</button>
          <button type="button" id="nextBtn">Next</button>
          <button type="button" id="submitBtn">Submit</button>
        </div>
      </form>
    </div>
    <script>
      
  const questionsContainer = document.getElementById('questionsContainer');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const submitBtn = document.getElementById('submitBtn');

  let questions = [];
  const questionsPerPage = 3;
  let currentPage = 1;

  // Load questions from external JSON file
  fetch('/assets/pages/question.json')
    .then(response => response.json())
    .then(data => {
      questions = data;
      renderQuestions();
    })
    .catch(error => {
      console.error('Error loading questions:', error);
      questionsContainer.innerHTML = "<p>Failed to load quiz questions.</p>";
    });

  function renderQuestions() {
    questionsContainer.innerHTML = '';

    const totalPages = Math.ceil(questions.length / questionsPerPage);
    const start = (currentPage - 1) * questionsPerPage;
    const end = start + questionsPerPage;
    const questionsToShow = questions.slice(start, end);

    questionsToShow.forEach(q => {
      const qDiv = document.createElement('div');
      qDiv.className = 'question';

      const qTitle = document.createElement('h3');
      qTitle.textContent = `${q.id}. ${q.question}`;
      qDiv.appendChild(qTitle);

      q.options.forEach(opt => {
        const label = document.createElement('label');
        label.style.display = 'block';
        label.style.marginBottom = '5px';

        const radio = document.createElement('input');
        radio.type = 'radio';
        radio.name = `q${q.id}`;
        radio.value = opt;

        label.appendChild(radio);
        label.appendChild(document.createTextNode(` ${opt}`));

        qDiv.appendChild(label);
      });

      questionsContainer.appendChild(qDiv);
    });

    prevBtn.disabled = currentPage === 1;
    nextBtn.disabled = currentPage === totalPages;
    submitBtn.style.display = currentPage === totalPages ? 'inline-block' : 'none';
  }

  prevBtn.addEventListener('click', () => {
    if (currentPage > 1) {
      currentPage--;
      renderQuestions();
    }
  });

  nextBtn.addEventListener('click', () => {
    const totalPages = Math.ceil(questions.length / questionsPerPage);
    if (currentPage < totalPages) {
      currentPage++;
      renderQuestions();
    }
  });

  submitBtn.addEventListener('click', () => {
    alert('Quiz submitted!'); // You can redirect or process answers here
    window.location.href = 'thankyou.html';
  });
</script>

    </script>
</body>

</html>